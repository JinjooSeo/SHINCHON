# Causal Viscous Hydro Code for Non-Central Heavy-Ion Collisions

## Authors
Ulrike Romatschke, Paul Romatschke and Matthew Luzum

version 0.2 February 2009
version 0.3 April 2010
version 0.4 September 2010
version 0.5 April 2013
version 1.0 May 2013
version 1.2 November 2013
version 1.4 July 2014
version 1.5
version 1.7
version 1.8
version 1.8.3
version 1.9
version 2.0 March 2015
version 2.1 October 2015

----------------------------------------------------------------
# Requirements

This code requires the developer version of the GNU Scientifc Library (GSL). It has been successfully tested with gsl-1.16. Depending on your OS, you need to install the 32- or 64-bit version.


# Compiling and Installing

In main folder, simpy execute
```
make initE
make vh2
make convertfull
make extractfull 
```

# Using the code:

* Read the disclaimer in UVH2+1.cpp

* The code is separated into several modules:

  1. initE: this module produces the Glauber initial energy-density distribution in the transverse plane. The current version lets you play with different versions of the Glauber initial condition parametrization. 
     Input: data/params.txt
     Output: initE produces the file "inited.dat"

  2. generate: this module creates the transport coefficients based on ```transport_params.dat```
     Input: data/params.txt
     Output: initE produces the file "inited.dat"
  
  3. vh2: this is the main hydro code. It takes the output from running initE as an input for the energy density
and then solves the hydro equations until freeze-out is finished. It puts snapshots of things like the energy-density profile into the directory "data/snapshot" (if present--takes up much more disk space this way), and the eccentricities into "ecc.dat" in "data/"

Inputs: * params.txt (main control file, lets you specify run properties)
        * time.dat, inited.dat, initpixx.dat, initpiyy.dat, inituy.dat, initpixy.dat, initux.dat (fully specify the hydro initial conditons; these files can be generated by initE if you want it to, or you can specify your own)
	* qcdIEOS.dat, etaoverS.dat, beta2.dat, lambda1.dat (equation of state file and transport coefficients as a function of temperature)
Main Output: freezeout.dat
Extra Output: ecc.dat

3) convertfull 
(for isothermal freezeout): this module converts the hydrodynamic 
degrees of freedom (energy density, fluid velocities,...) 
into particle spectra using the Cooper-Frye freeze-out prescription

Input: params.txt, freezeout.dat, pasin.dat, pasim.dat, pasinames.dat, gslist.dat
Output: phipspectra.dat, ptarr.dat

3a) preresofull: (optional) same as "extract" below, but before resonance feed down

Input: params.txt, phipspectra.dat
Output: data/results/prereso*

3c) b3d: MADAI collaboration freezeout and hadronic afterburner.

Input: freezeout.dat (needs to be in sub-directory "output/default/cent0to5/",
or use batch "exshell" which copies it there) and several parameter/input files
Output: b3d.h5 (in the "output/default/cent0to5/" sub-directory)

4) reso: this module (adapted from the AZHYDRO code) takes the
particle spectra and calculates decays of unstable particles
using the particle data book values.

Input: reso.inp, freezeout.dat
Output: spec_ and PT_ files in "data/results"
(see pdg_weak.dat for a clue what the numbers mean)

5) extractfull: this module finally takes the stable particle
spectra and calculates dN/dy/d^2pt (alias "v0"), "v2" and "v4"
from them. These can then be further manipulated to give
the total multiplicity and integrated/min-bias v2

Output: data/results/*sv?.dat

5b) analyze: MADAI collaboration analysis program

Input: b3d.h5
Output: spectra_pion.dat, spectra_kaon.dat (in "analysis/default/cent0to5/details/" subdirectory)


* All freezeout routines (convert, prereso, reso, extract) 
integrate over the entire transverse plane, which is useful
for when asymmetric initial conditions are used. Note that
the old routines (version 0.4 or earlier, without "full" appended)
which calculated spectra in only one quadrant of the transverse
plane, appropriate when there is reflection symmetry across
the x and y axes are no longer supported.

* The main control-file of the code is called "params.txt"
and can be found in the "data/" subdirectory. It has
most of the adjustable switches in there and a minimal description
to them. The physics parameters should be self-explanatory anyway.

* For convenience, once you've specified the relevant
parameters you're interested in in "params.txt", you can
simply invoke the shell-script "exshell", which should
do the steps 1)-5) for you and you can simply look at the
results in "data/results".

----------------------------------------------------------------

If something does not work or you think that we forgot to
mention something important, let us know!
Have fun.


